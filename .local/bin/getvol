#!/bin/sh

get_volume() {
	echo "$(pactl get-default-sink \
		| xargs pactl get-sink-volume \
		| grep "Vol" \
		| awk '{print $5}')"
}

get_media() {
	echo -e "$(get_volume)\n$(get_mpc)"
}

get_mpc() {
	echo "$(mpc current)"
}

usage() {
	cat << EOF
usage: volume [-hlgm]
  -h: usage
  -g: get volume
  -m: get media status (volume & mpc)
  -n: show media status by 'notify-send'
EOF
}

case "$1" in
	"-h") usage ;;
	"-g") get_volume ;;
	"-m") get_media ;;
	"-n") notify-send "$(get_volume)" "$(get_mpc)" -t 1000 ;;
esac
