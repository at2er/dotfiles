#!/bin/bash

get_volume() {
	echo "$(pactl get-default-sink \
		| xargs pactl get-sink-volume \
		| grep "Vol" \
		| awk '{print $5}')"
}

get_media() {
	echo -e "$(get_volume)\n$(get_mpc)"
}

get_mpc() {
	echo "$(mpc current)"
}

usage() {
	cat << EOF
usage: volume [-hudlgm]
  -u: up
  -d: down
  -l: show media status by 'notify-send'
  -g: get volume
  -m: get media status (volume & mpc)
EOF
}

case "$1" in
	"-h") usage ;;
	"-u") amixer sset Master 5%+ ;;
	"-d") amixer sset Master 5%- ;;
	"-l") notify-send "$(get_volume)" "$(get_mpc)" -t 1000 ;;
	"-g") get_volume ;;
	"-m") get_media ;;
esac
